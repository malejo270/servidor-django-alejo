{% extends "base.html" %}
{% block content %}

<!-- Mostrar mensajes -->
{% if messages %}
  <div id="messages-container">
    {% for message in messages %}
      <div class="alert" 
           style="background:#2ecc71; color:white; padding:10px; margin-bottom:10px; border-radius:6px; font-weight:bold;">
        {{ message }}
      </div>
    {% endfor %}
  </div>

  <script>
    // Ocultar mensajes despuÃ©s de 5 segundos
    setTimeout(() => {
      const messages = document.getElementById("messages-container");
      if (messages) {
        messages.style.transition = "opacity 0.5s ease";
        messages.style.opacity = "0";
        setTimeout(() => messages.remove(), 500); // eliminar del DOM
      }
    }, 5000);
  </script>
{% endif %}

<!-- BotÃ³n volver -->
<div style="margin-bottom: 20px;">
    <a href="{% url 'subestaciones' %}" 
       style="background-color:#7f8c8d; color:white; padding:8px 14px; 
              border-radius:6px; text-decoration:none; font-weight:600;">
        â† Volver
    </a>
</div>

<h2>Preguntas configuradas</h2>

<!-- Botones de creaciÃ³n -->
<div style="margin-bottom: 15px;">
    <a href="{% url 'crear_pregunta' %}" 
       style="padding:6px 12px; background:#3498db; color:white; text-decoration:none; border-radius:4px; margin-right:8px;">
        â• Crear Pregunta
    </a>

    <a href="{% url 'crear_pregunta_padre' %}" 
       style="padding:6px 12px; background:#27ae60; color:white; text-decoration:none; border-radius:4px;">
        â• Crear Pregunta Padre
    </a>
</div>

<table border="1" cellpadding="6" cellspacing="0" style="margin-top:15px; width:100%; text-align:center;">
    <thead>
        <tr>
            <th>ID</th>
            <th>Texto</th>
            <th>Tipo</th>
            <th>CategorÃ­a</th>
            <th>Acciones</th>
        </tr>
    </thead>
    <tbody>
        {% for pregunta in preguntas %}
        <tr>
            <td>{{ pregunta.id }}</td>
            <td>{{ pregunta.texto }}</td>
            <td>{{ pregunta.get_tipo_display }}</td>
            <td>{{ pregunta.get_categoria_display }}</td>
            <td>
                <a href="{% url 'eliminar_pregunta' pregunta.id %}" style="color:red;">
                    ğŸ—‘ Eliminar
                </a>
            </td>
        </tr>
        {% empty %}
        <tr>
            <td colspan="5">No hay preguntas configuradas</td>
        </tr>
        {% endfor %}
    </tbody>
</table>
{% endblock %}
