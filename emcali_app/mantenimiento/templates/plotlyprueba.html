{% extends 'base.html' %}
{% load static %}

{% block content %}

<a href="{{ url_origen }}" class="btn" style="margin-bottom:20px; background:#6c757d; color:white; padding:8px 15px; border-radius:6px; text-decoration:none;">
   ‚Üê Volver
</a>

<h2 style="text-align:center; margin-bottom:10px; font-size:28px; font-weight:700; color:#2c3e50;">
    Datos Estad√≠sticos de la app
</h2>

<p style="text-align:center; font-size:16px; margin-bottom:30px; color:#7f8c8d;">
    <strong>Nodos:</strong> {{ total_nodos }} |
    <strong>Subestaciones:</strong> {{ total_subestaciones }} |
    <strong>Recos:</strong> {{ total_recos }} |
    <strong>Comunicaciones:</strong> {{ total_comunicaciones }}
</p>

<style>
    body {
        background-color: #eff5ed;
        font-family: 'Segoe UI', sans-serif;
    }

    .dashboard-container {
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 30px;
        padding: 20px;
        max-width: 1100px;
        margin: 0 auto;
    }

    .chart-card {
        background: #ffffff;
        padding: 25px;
        border-radius: 16px;
        box-shadow: 0 6px 16px rgba(0,0,0,0.08);
        width: 100%;
        transition: transform 0.2s ease, box-shadow 0.2s ease;
        overflow-x: auto;
    }

    .chart-card:hover {
        transform: translateY(-3px);
        box-shadow: 0 8px 20px rgba(0,0,0,0.12);
    }

    .chart-card > div {
        width: 100% !important;
        height: auto !important;
    }

    /* üîπ Asegurar que los gr√°ficos no se corten */
    .js-plotly-plot,
    .plot-container {
        width: 100% !important;
        height: auto !important;
    }

    @media (max-width: 768px) {
        .chart-card {
            padding: 15px;
        }
    }
</style>

<script src="https://cdn.plot.ly/plotly-latest.min.js"></script>

<div class="dashboard-container">
    <div class="chart-card">{{ grafico1|safe }}</div>
    <div class="chart-card">{{ grafico2|safe }}</div>
    <div class="chart-card">{{ grafico3|safe }}</div>
    <div class="chart-card">{{ grafico4|safe }}</div>
    <div class="chart-card">{{ grafico5|safe }}</div>
    <div class="chart-card">{{ grafico6|safe }}</div>
</div>

{% endblock %}
