{% extends "base.html" %}
{% block content %}
<div class="container my-5">

  <!-- BotÃ³n Volver -->
  <div class="mb-4">
    <a href="{% url 'mantenimiento' %}" 
       class="btn fw-bold shadow-sm px-4 py-2"
       style="background-color: #ffcc00; color: #000; border-radius: 8px;">
      â† Volver
    </a>
  </div>

  <!-- TÃ­tulo -->
  <h2 class="text-center fw-bold mb-5" style="color:#c40808; font-size: 28px;">
    ComunicaciÃ³n de las subestaciones
  </h2>

  {% if subestaciones %}
  <!-- Grid de tarjetas -->
  <div class="row g-4">
    {% for s in subestaciones %}
      <div class="col-12 col-sm-6 col-lg-4">
        <div class="card h-100 shadow-sm border-0 rounded-4" style="border-left: 6px solid #0056b3;">
          <div class="card-body d-flex flex-column">

            <!-- Nombre y ubicaciÃ³n -->
            <h5 class="card-title text-dark fw-bold mb-2">
              ğŸ­ {{ s.nombre }}
            </h5>
            <p class="card-text text-muted small mb-4">
              ğŸ“ {{ s.ubicacion }}
            </p>

            <!-- BotÃ³n histÃ³rico -->
            <div class="mt-auto text-center">
              <a href="{% url 'historico_sub_comu' s.id %}?from={{ request.resolver_match.url_name }}" 
                 class="btn fw-semibold shadow-sm px-3 py-2"
                 style="background-color:#27ae60; color:white; border-radius:8px;">
                ğŸ“‘ HistÃ³rico
              </a>
            </div>

          </div>
        </div>
      </div>
    {% endfor %}
  </div>

  {% else %}
  <p class="text-center text-muted mt-5 fs-6">
    âš ï¸ No hay subestaciones registradas.
  </p>
  {% endif %}
</div>
{% endblock %}
